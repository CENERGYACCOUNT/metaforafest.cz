/*!
 * jQuery Countdown (Czech localized, target: 10.7.2026)
 * Fully working version
 * Requires: jQuery
 */

(function ($) {

    // -------------------------------
    // Countdown plugin
    // -------------------------------
    $.fn.metaforaCountdown = function (finalDate) {
        const $el = $(this);

        function updateCountdown() {
            const now = new Date().getTime();
            const distance = finalDate.getTime() - now;

            if (distance <= 0) {
                $el.html('<div class="countdown__item"><span>0</span><p>dn√≠</p></div>' +
                         '<div class="countdown__item"><span>0</span><p>hodin</p></div>' +
                         '<div class="countdown__item"><span>0</span><p>minut</p></div>' +
                         '<div class="countdown__item"><span>0</span><p>sekund</p></div>');
                clearInterval(timer);
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            $el.html(
                '<div class="countdown__item"><span>' + days + '</span><p>dn√≠</p></div>' +
                '<div class="countdown__item"><span>' + hours + '</span><p>hodin</p></div>' +
                '<div class="countdown__item"><span>' + minutes + '</span><p>minut</p></div>' +
                '<div class="countdown__item"><span>' + seconds + '</span><p>sekund</p></div>'
            );
        }

        updateCountdown(); // Run once immediately
        const timer = setInterval(updateCountdown, 1000);
    };

    // -------------------------------
    // Initialize on document ready
    // -------------------------------
    $(document).ready(function () {
        // üóìÔ∏è Set to July 10, 2026 00:00:00
        const eventDate = new Date("2026-07-10T00:00:00");
        $('#countdown-time').metaforaCountdown(eventDate);
    });

})(jQuery);
